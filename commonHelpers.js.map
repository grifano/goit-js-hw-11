{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImageData(serachRequest) {\n  const apiRequestURL = `https://pixabay.com/api/?key=20858658-55430aeeed6a37ac1f56d3c0c&q=${serachRequest}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(apiRequestURL).then(response => {\n    if (!response.ok) {\n      return;\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst button = document.querySelector('button');\nconst gallery = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\n\n// Function addLightbox\nexport function addLightbox() {\n  const lightbox = new SimpleLightbox('.image-card-link', {\n    caption: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n  });\n  lightbox.refresh();\n}\n\n// Function: show notification\nexport function showNotification(msg) {\n  iziToast.settings({\n    timeout: 5000,\n    titleColor: '#fff',\n    position: 'topRight',\n    messageColor: '#fff',\n    icon: '',\n    close: false,\n  });\n\n  iziToast.error({\n    message: msg,\n    class: 'error-notification',\n    timeout: 5000,\n    iconUrl: '/img/octagon.svg',\n    titleColor: '#fff',\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageColor: '#fff',\n    progressBarColor: '#B51B1B',\n    close: true,\n  });\n}\n\n// Update UI\nexport function updateUi(arrayImages) {\n  if (arrayImages.length <= 0) {\n    showNotification(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n  }\n  const markup = arrayImages\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"image-card\">\n              <a href=\"${largeImageURL}\" class=\"image-card-link\"><img src=\"${webformatURL}\" width=\"360\" height=\"200\" class=\"image-card-thumb\" alt=\"${tags}\">\n                <ul class=\"image-card-details-list\">\n                  <li class=\"image-card-details-list-item\">\n                      <p class=\"image-card-details-title\">Likes</p>\n                      <p class=\"image-card-details-text\">${likes}</p>\n                  </li>\n                  <li class=\"image-card-details-list-item\">\n                      <p class=\"image-card-details-title\">Views</p>\n                      <p class=\"image-card-details-text\">${views}</p>\n                  </li>\n                  <li class=\"image-card-details-list-item\">\n                      <p class=\"image-card-details-title\">Comments</p>\n                      <p class=\"image-card-details-text\">${comments}</p>\n                  </li>\n                  <li class=\"image-card-details-list-item\">\n                      <p class=\"image-card-details-title\">Downloads</p>\n                      <p class=\"image-card-details-text\">${downloads}</p>\n                  </li>\n                </ul>\n              </a>\n          </li>`;\n      }\n    )\n    .join('');\n  gallery.innerHTML = '';\n  gallery.insertAdjacentHTML('afterbegin', markup);\n\n  // Fire function that create lightbox after image-cards was rendered\n  addLightbox();\n}\n\n// Check user input\nexport function getUserValue(event) {\n  const value = event.target.value;\n\n  if (value && value.trim().length > 0) {\n    button.classList.remove('is-disable');\n    button.removeAttribute('disabled', '');\n    return value;\n  } else {\n    button.classList.add('is-disable');\n    button.setAttribute('disabled', '');\n  }\n  return;\n}\n\n// Show Loader\nexport function showLoader(status) {\n  if (status) {\n    loader.classList.add('is-active');\n  } else {\n    loader.classList.remove('is-active');\n  }\n}\n","import './js/pixabay-api';\nimport { fetchImageData } from './js/pixabay-api';\nimport './js/render-functions';\nimport { getUserValue, updateUi, showLoader } from './js/render-functions';\n\nconst refs = {\n  searchForm: document.querySelector('.search-bar-form'),\n  searchInput: document.querySelector('#search-bar'),\n  searchButton: document.querySelector('button'),\n  galleryList: document.querySelector('.gallery-list'),\n};\nlet userSearchRequestValue = '';\n\nrefs.searchInput.addEventListener('input', event => {\n  userSearchRequestValue = getUserValue(event);\n});\nrefs.searchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  showLoader(true);\n  setTimeout(() => {\n    fetchImageData(userSearchRequestValue)\n      .then(data => {\n        const images = data.hits;\n        updateUi(images);\n        showLoader(false);\n      })\n      .catch(error => console.log(error));\n  }, 1000);\n});\n"],"names":["fetchImageData","serachRequest","apiRequestURL","response","button","gallery","loader","addLightbox","SimpleLightbox","showNotification","msg","iziToast","updateUi","arrayImages","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","getUserValue","event","value","showLoader","status","refs","userSearchRequestValue","data","images","error"],"mappings":"6vBAAO,SAASA,EAAeC,EAAe,CAC5C,MAAMC,EAAgB,qEAAqED,CAAa,2DAExG,OAAO,MAAMC,CAAa,EAAE,KAAKC,GAAY,CAC3C,GAAKA,EAAS,GAGd,OAAOA,EAAS,MACpB,CAAG,CACH,CCJA,MAAMC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAS,SAAS,cAAc,SAAS,EAGxC,SAASC,GAAc,CACX,IAAIC,EAAe,mBAAoB,CACtD,QAAS,GACT,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,EACQ,QAAO,CAClB,CAGO,SAASC,EAAiBC,EAAK,CACpCC,EAAS,SAAS,CAChB,QAAS,IACT,WAAY,OACZ,SAAU,WACV,aAAc,OACd,KAAM,GACN,MAAO,EACX,CAAG,EAEDA,EAAS,MAAM,CACb,QAASD,EACT,MAAO,qBACP,QAAS,IACT,QAAS,mBACT,WAAY,OACZ,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,iBAAkB,UAClB,MAAO,EACX,CAAG,CACH,CAGO,SAASE,EAASC,EAAa,CAChCA,EAAY,QAAU,GACxBJ,EACE,0EACN,EAEE,MAAMK,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,yBACUL,CAAa,uCAAuCD,CAAY,4DAA4DE,CAAI;AAAA;AAAA;AAAA;AAAA,2DAI9FC,CAAK;AAAA;AAAA;AAAA;AAAA,2DAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2DAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2DAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAM/D,EACA,KAAK,EAAE,EACVhB,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,aAAcS,CAAM,EAG/CP,GACF,CAGO,SAASe,EAAaC,EAAO,CAClC,MAAMC,EAAQD,EAAM,OAAO,MAE3B,GAAIC,GAASA,EAAM,KAAI,EAAG,OAAS,EACjC,OAAApB,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,gBAAgB,WAAY,EAAE,EAC9BoB,EAEPpB,EAAO,UAAU,IAAI,YAAY,EACjCA,EAAO,aAAa,WAAY,EAAE,CAGtC,CAGO,SAASqB,EAAWC,EAAQ,CAC7BA,EACFpB,EAAO,UAAU,IAAI,WAAW,EAEhCA,EAAO,UAAU,OAAO,WAAW,CAEvC,CClHA,MAAMqB,EAAO,CACX,WAAY,SAAS,cAAc,kBAAkB,EACrD,YAAa,SAAS,cAAc,aAAa,EACjD,aAAc,SAAS,cAAc,QAAQ,EAC7C,YAAa,SAAS,cAAc,eAAe,CACrD,EACA,IAAIC,EAAyB,GAE7BD,EAAK,YAAY,iBAAiB,QAASJ,GAAS,CAClDK,EAAyBN,EAAaC,CAAK,CAC7C,CAAC,EACDI,EAAK,WAAW,iBAAiB,SAAUJ,GAAS,CAClDA,EAAM,eAAc,EACpBE,EAAW,EAAI,EACf,WAAW,IAAM,CACfzB,EAAe4B,CAAsB,EAClC,KAAKC,GAAQ,CACZ,MAAMC,EAASD,EAAK,KACpBjB,EAASkB,CAAM,EACfL,EAAW,EAAK,CACxB,CAAO,EACA,MAAMM,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACrC,EAAE,GAAI,CACT,CAAC"}